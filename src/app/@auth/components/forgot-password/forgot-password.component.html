<div class="forgot-password" *ngIf="(isSuccessResetClick$ | async) === false; else successMessage">
  <h1 class="title">Forgot your password?</h1>
  <h2 class="subtitle">Get the reset password link via email</h2>

  <app-auth-error-message></app-auth-error-message>

  <form class="form" action="" [formGroup]="forgotPasswordForm">

    <div class="form-field">
      <label>Email</label>
      <input formControlName="email"
             type="text"
             pInputText>
      <app-field-error-message [control]="forgotPasswordForm.controls.email"></app-field-error-message>
    </div>

    <div class="actions">
      <button
        [disabled]="forgotPasswordForm.invalid || (isLoading$ | async)"
        [appSpinner]="isLoading$ | async"
        (click)="reset()"
        pButton
        label="Reset"
      ></button>
    </div>

    <div class="link">
      Remembered your password?
      <span routerLink="/login">Log In</span>
    </div>
  </form>
</div>

<ng-template #successMessage>
  <img src="assets/images/success-icon.svg"  alt="success icon" class="success-icon">
  <h1 class="title">Reset password link successfully sent to {{forgotPasswordForm.controls.email.value}} </h1>
  <h2 class="subtitle">Check your inbox and spam folders and follow the instructions in the message.</h2>
  <div class="actions">
    <button
      routerLink="/login"
      pButton
      label="Go to login page"
    ></button>
  </div>
</ng-template>
