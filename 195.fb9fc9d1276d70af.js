"use strict";(self.webpackChunkexercise_log=self.webpackChunkexercise_log||[]).push([[195],{5195:(Q,g,i)=>{i.r(g),i.d(g,{AuthModule:()=>j});var a=i(6895),c=i(2591);const T=[{imgUrl:"slider-item-1.jpg",text:"\u201cWe often overestimate how often we do things, but tracking eliminates this weakness. When we track we just have the facts, not our subjective reflections.\u201d",name:"Betsy Ramser Jaime",job:"Freelance Editor"},{imgUrl:"slider-item-2.jpg",text:"\u201cIf we could give every individual the right amount of nourishment and exercise, not too little and not too much, we would have found the safest way to health.\u201d",name:"Hippocrates",job:"Greek physician"},{imgUrl:"slider-item-3.jpg",text:"\u201cIf you want to find the real competition, just look in the mirror. After awhile you'll see your rivals scrambling for second place.\u201d",name:"Criss Jam",job:"Musical artist"}];var e=i(4650),_=i(2671),b=i(805);const I=function(t){return{"background-image":t}};function M(t,s){if(1&t&&(e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"img",7),e.qZA(),e.TgZ(3,"div",8)(4,"div",9),e._uU(5),e.qZA(),e.TgZ(6,"div",10),e._uU(7),e.qZA(),e.TgZ(8,"div",11),e._uU(9),e.qZA()()()),2&t){const r=s.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(4,I,o.backgroundImageValue(r.imgUrl))),e.xp6(5),e.Oqu(r.text),e.xp6(2),e.Oqu(r.name),e.xp6(2),e.Oqu(r.job)}}let x=(()=>{class t{constructor(){this.sliderItems=T}backgroundImageValue(r){return`url(assets/images/slider/${r})`}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-auth"]],decls:6,vars:7,consts:[[1,"auth"],[3,"value","showNavigators","showIndicators","autoplayInterval","numVisible","numScroll","circular"],["carousel",""],["pTemplate","item"],[1,"content"],[1,"image",3,"ngStyle"],[1,"logo"],["alt","logo image","src","assets/images/logo.svg"],[1,"quote"],[1,"text"],[1,"name"],[1,"job"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"p-carousel",1,2),e.YNc(3,M,10,6,"ng-template",3),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"router-outlet"),e.qZA()()),2&r&&(e.xp6(1),e.Q6J("value",o.sliderItems)("showNavigators",!1)("showIndicators",!1)("autoplayInterval",3e3)("numVisible",1)("numScroll",1)("circular",!0))},dependencies:[a.PC,_.l,b.jx,c.lC],styles:[".auth[_ngcontent-%COMP%]{display:flex;height:100vh;width:100vw;justify-content:space-between;background-color:#171a1d}.auth[_ngcontent-%COMP%]   p-carousel[_ngcontent-%COMP%]{width:60vw}.auth[_ngcontent-%COMP%]   p-carousel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{display:flex;height:100vh;flex-direction:column;justify-content:space-between;color:#fff;padding:3.875rem;background-position:center center;background-repeat:no-repeat;background-size:cover;letter-spacing:.025rem;line-height:2.625rem}.auth[_ngcontent-%COMP%]   p-carousel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.auth[_ngcontent-%COMP%]   p-carousel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.auth[_ngcontent-%COMP%]   p-carousel[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]{font-weight:300;font-size:1.125rem;line-height:1.375rem}.auth[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1.25rem;display:flex;align-items:center;justify-content:center;width:40vw;background-color:#f5f3f4}"]}),t})();var n=i(433);const d="^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$";function P(t){const s=t.get("password")?.value,r=t.get("confirmPassword")?.value;return s===r?null:{password:!0}}var p=i(9810),l=i(2997),U=i(1909),h=i(5712);const u=(0,l.ZF)(U.Dm),f=(0,l.P1)(u,t=>t.pending===h.J.Active),O=(0,l.P1)(u,t=>t.pending===h.J.Error),q=(0,l.P1)(u,t=>t.errorMessage);var v=i(1740),Z=i(5593);function L(t,s){if(1&t&&(e.ynx(0),e.TgZ(1,"small",1),e._uU(2),e.qZA(),e._UZ(3,"div",2),e.BQk()),2&t){const r=e.oxw();e.xp6(2),e.Oqu(r.errorMessage)}}let C=(()=>{class t{get errorMessage(){switch(Object.keys(this.control.errors||{})[0]){case"required":return"This field is required!";case"pattern":return"This field is not correct";case"minlength":return`Min length should be  ${this.control.errors?.minlength.requiredLength}`;case"maxlength":return`Max length should be  ${this.control.errors?.maxlength.requiredLength}`;case"password":return"Passwords do not match"}return""}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-field-error-message"]],inputs:{control:"control"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"p-error","block","err-m"],[1,"empty-space"]],template:function(r,o){1&r&&e.YNc(0,L,4,1,"ng-container",0),2&r&&e.Q6J("ngIf",o.control.touched&&o.control.invalid)},dependencies:[a.O5],styles:[".empty-space[_ngcontent-%COMP%]{display:block;height:.5rem;width:1rem}"]}),t})(),w=(()=>{class t{constructor(r,o){this.renderer=r,this.elementRef=o,this.overlay=this.renderer.createElement("div"),this.spinner=this.renderer.createElement("div"),this.renderer.addClass(this.spinner,"loader"),this.renderer.addClass(this.overlay,"loader-overlay"),this.renderer.appendChild(this.overlay,this.spinner)}set isLoading(r){this.renderer.appendChild(this.elementRef.nativeElement,this.overlay),r||this.renderer.removeChild(this.elementRef.nativeElement,this.overlay)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(e.Qsj),e.Y36(e.SBq))},t.\u0275dir=e.lG2({type:t,selectors:[["","appSpinner",""]],inputs:{isLoading:["appSpinner","isLoading"]}}),t})();function F(t,s){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2),e._uU(2,"Oh, something went wrong..."),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"async"),e.qZA()()),2&t){const r=e.oxw();e.xp6(4),e.hij("note: ",e.lcZ(5,1,r.message$)||"Please, try again later","")}}let y=(()=>{class t{constructor(r){this.store=r,this.message$=this.store.select(q),this.errorAfterLoading$=this.store.select(O)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(l.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-auth-error-message"]],decls:2,vars:3,consts:[["class","error-card",4,"ngIf"],[1,"error-card"],[1,"error-title"],[1,"error-message"]],template:function(r,o){1&r&&(e.YNc(0,F,6,3,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,o.errorAfterLoading$))},dependencies:[a.O5,a.Ov],styles:[".error-card[_ngcontent-%COMP%]{border:solid .125rem #AB2C26;border-radius:.6rem;padding:1rem;margin-bottom:1rem}.error-title[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;margin-bottom:.5rem}"],changeDetection:0}),t})(),k=(()=>{class t{constructor(r){this.store=r,this.loginForm=new n.cw({email:new n.NI("",{validators:[n.kI.required,n.kI.pattern(d)],nonNullable:!0}),password:new n.NI("",{validators:[n.kI.required],nonNullable:!0})}),this.isLoading$=this.store.select(f)}login(){const r=this.loginForm.getRawValue();this.store.dispatch((0,p.m3)({login:r}))}ngOnDestroy(){this.store.dispatch((0,p.ir)())}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(l.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:26,vars:9,consts:[[1,"title"],[1,"subtitle"],[1,"form",3,"formGroup"],[1,"form-field"],["formControlName","email","type","text","pInputText",""],[3,"control"],["formControlName","password","type","password","pInputText",""],[1,"forgot"],[1,"actions"],["pButton","","label","Log in",3,"appSpinner","disabled","click"],[1,"link"],["routerLink","/register"]],template:function(r,o){1&r&&(e.TgZ(0,"h1",0),e._uU(1,"Welcome back"),e.qZA(),e.TgZ(2,"h2",1),e._uU(3,"Continue track your progress"),e.qZA(),e._UZ(4,"app-auth-error-message"),e.TgZ(5,"form",2)(6,"div",3)(7,"label"),e._uU(8,"Email"),e.qZA(),e._UZ(9,"input",4)(10,"app-field-error-message",5),e.qZA(),e.TgZ(11,"div",3)(12,"label"),e._uU(13,"Password"),e.qZA(),e._UZ(14,"input",6),e.TgZ(15,"div",7),e._uU(16,"Forgot password?"),e.qZA(),e._UZ(17,"app-field-error-message",5),e.qZA(),e.TgZ(18,"div",8)(19,"button",9),e.NdJ("click",function(){return o.login()}),e.ALo(20,"async"),e.ALo(21,"async"),e.qZA()(),e.TgZ(22,"div",10),e._uU(23," Still don\u2019t have an account? "),e.TgZ(24,"span",11),e._uU(25,"Sign up"),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("formGroup",o.loginForm),e.xp6(5),e.Q6J("control",o.loginForm.controls.email),e.xp6(7),e.Q6J("control",o.loginForm.controls.password),e.xp6(2),e.Q6J("appSpinner",e.lcZ(20,5,o.isLoading$))("disabled",e.lcZ(21,7,o.isLoading$)||o.loginForm.invalid))},dependencies:[v.o,Z.Hq,C,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,w,c.rH,y,a.Ov],encapsulation:2,changeDetection:0}),t})();function J(t,s){if(1&t&&e._UZ(0,"app-field-error-message",5),2&t){const r=e.oxw();e.Q6J("control",r.registerForm)}}let A=(()=>{class t{constructor(r){this.store=r,this.registerForm=new n.cw({name:new n.NI("",{validators:[n.kI.required,n.kI.minLength(2),n.kI.maxLength(30)],nonNullable:!0}),email:new n.NI("",{validators:[n.kI.required,n.kI.pattern(d)],nonNullable:!0}),password:new n.NI("",{validators:[n.kI.required,n.kI.minLength(8),n.kI.maxLength(30)],nonNullable:!0}),confirmPassword:new n.NI("",{validators:[n.kI.required],nonNullable:!0})},[P]),this.isLoading$=this.store.select(f)}register(){const r=this.registerForm.getRawValue();this.store.dispatch((0,p.aX)({register:r}))}ngOnDestroy(){this.store.dispatch((0,p.ir)())}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(l.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:34,vars:11,consts:[[1,"title"],[1,"subtitle"],["action","",1,"form",3,"formGroup"],[1,"form-field"],["formControlName","name","type","text","pInputText",""],[3,"control"],["formControlName","email","type","text","pInputText",""],["formControlName","password","type","password","pInputText",""],["formControlName","confirmPassword","type","password","pInputText",""],[3,"control",4,"ngIf"],[1,"actions"],["pButton","","label","Sign Up",3,"disabled","appSpinner","click"],[1,"link"],["routerLink","/login"]],template:function(r,o){1&r&&(e.TgZ(0,"h1",0),e._uU(1,"Create an account"),e.qZA(),e.TgZ(2,"h2",1),e._uU(3,"Let\u2019s start track your goal"),e.qZA(),e._UZ(4,"app-auth-error-message"),e.TgZ(5,"form",2)(6,"div",3)(7,"label"),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",4)(10,"app-field-error-message",5),e.qZA(),e.TgZ(11,"div",3)(12,"label"),e._uU(13,"Email"),e.qZA(),e._UZ(14,"input",6)(15,"app-field-error-message",5),e.qZA(),e.TgZ(16,"div",3)(17,"label"),e._uU(18,"Password"),e.qZA(),e._UZ(19,"input",7)(20,"app-field-error-message",5),e.qZA(),e.TgZ(21,"div",3)(22,"label"),e._uU(23,"Confirm password"),e.qZA(),e._UZ(24,"input",8),e.YNc(25,J,1,1,"app-field-error-message",9),e.qZA(),e.TgZ(26,"div",10)(27,"button",11),e.NdJ("click",function(){return o.register()}),e.ALo(28,"async"),e.ALo(29,"async"),e.qZA()(),e.TgZ(30,"div",12),e._uU(31," Already have an account? "),e.TgZ(32,"span",13),e._uU(33,"Log In"),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("formGroup",o.registerForm),e.xp6(5),e.Q6J("control",o.registerForm.controls.name),e.xp6(5),e.Q6J("control",o.registerForm.controls.email),e.xp6(5),e.Q6J("control",o.registerForm.controls.password),e.xp6(5),e.Q6J("ngIf",o.registerForm.controls.confirmPassword.touched),e.xp6(2),e.Q6J("disabled",o.registerForm.invalid||e.lcZ(28,7,o.isLoading$))("appSpinner",e.lcZ(29,9,o.isLoading$)))},encapsulation:2,changeDetection:0}),t})();const E=[{path:"",component:x,children:[{path:"login",component:k},{path:"register",component:A},{path:"**",redirectTo:"login"}]}];let N=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(E),c.Bz]}),t})();var S=i(2234);let j=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,S.m,N]}),t})();e.B6R(A,[a.O5,v.o,Z.Hq,C,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,w,c.rH,y],[a.Ov])}}]);